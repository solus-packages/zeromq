name       : zeromq
version    : 4.3.2
release    : 7
source     :
    - https://github.com/zeromq/libzmq/releases/download/v4.3.2/zeromq-4.3.2.tar.gz : ebd7b5c830d6428956b67a0454a7f8cbed1de74b3b01e5c33c5378e22740f763
license    :
    - GPL-3.0-or-later
    - LGPL-3.0-or-later
component  : programming
summary    : ZeroMQ lightweight messaging kernel
description: |
    The ZeroMQ lightweight messaging kernel is a library which extends the standard socket interfaces with features traditionally provided by specialised messaging middleware products. ZeroMQ sockets provide an abstraction of asynchronous message queues, multiple messaging patterns, message filtering (subscriptions), seamless access to multiple transport protocols and more.
builddeps  :
    - pkgconfig(openpgm-5.2)
    - pkgconfig(libsodium)
    - asciidoc
patterns   :
    - devel :
      - /usr/doc/zmq/
setup      : |
    %patch -p1 < $pkgfiles/0001-Disable-test_filter_ipc.patch
    mkdir build && pushd build
    %cmake .. -DBUILD_STATIC=OFF
build      : |
    pushd build
    %make
install    : |
    pushd build
    %make_install
check      : |
    pushd build
    %make test || :
